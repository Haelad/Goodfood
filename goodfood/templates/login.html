{% extends "base.html" %}
{% load widget_tweaks %}
{% load static %}
{% load socialaccount %}  

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="card shadow p-4" style="max-width: 400px; width: 100%;">
    <h2 class="text-center mb-4">вход</h2>

    <form method="post" action="{% url 'account_login' %}">
        {% csrf_token %}
        
        <div class="d-grid mb-3 w-100">
            <label for="id_login">Email или Username</label>
            {{ form.username }}
            {% if form.username.errors %}
                <div class="text-danger small">{{ form.username.errors }}</div>
            {% endif %}
        </div>

        <div class="d-grid mb-3 w-100">
            <label for="id_password">Пароль</label>
            {{ form.password }}
            {% if form.password.errors %}
                <div class="text-danger mx-auto">{{ form.password.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary d-grid w-100">Войти</button>
    </form>

    <p class="mt-3 text-center">или</p>

    <div class="d-grid w-100">
  <a href="{% provider_login_url 'google' %}" class="btn btn-danger">
    <i class="bi bi-google me-2"></i> Войти через Google
  </a>
</div>

    <div class="mt-3 text-center">
        <p>Нет аккаунта? <a href="{% url 'account_signup' %}">Зарегистрироваться</a></p>
        <p><a href="{% url 'account_reset_password' %}">Забыли пароль?</a></p>
    </div>
</div>
</div>
</div>
{% endblock %}